function displayData(e){var t=document.getElementById("UserID").value,n=document.getElementById("APItoken").value;sessionStorage.setItem("data",JSON.stringify(e));var a=e.Cdata,o=e.tArray,s="<div id='Cdata'>\n<h1>Challenge:</h1>\n";s+="<h2>"+a.name+"</h2>",getRequest("https://habitica.com/api/v3/groups/"+a.group,t,n).then(function(e){console.log(JSON.parse(e).data),s+="group: "+a.group+"("+JSON.parse(e).data.name+")<br/>";for(const[e,t]of Object.entries(a))"name"!==e&&"group"!==e&&(s+=e+": "+t+"<br/>");for(s+="</div>\n<div id='tArray'>\n<h2>Tasks:</h2>",i=0;i<o.length;i++){s+="<h3>"+o[i].text+":</h3>";for(const[e,t]of Object.entries(o[i]))"text"!==e&&(s+=e+": "+t+"<br/>")}document.getElementById("Data").innerHTML=s})}function getRequest(e,t,n){return new Promise((a,o)=>{let s=new XMLHttpRequest;s.open("GET",e),s.onerror=function(){o(this.statusText)},s.onload=function(){200==this.status?a(this.responseText):o(this.responseText)},s.setRequestHeader("x-api-user",t),s.setRequestHeader("x-api-key",n),s.setRequestHeader("x-client","456b5feb-bd5c-4046-b5b3-83606a1f6a76-cfc"),s.send()})}document.addEventListener("DOMContentLoaded",function(){null!=localStorage.getItem("userID")&&(document.getElementById("UserID").value=localStorage.getItem("userID"),document.getElementById("APItoken").value=localStorage.getItem("APIToken")),document.getElementById("challengeFile").addEventListener("change",function(){ChallengeFromCSV.fileParse(this).then(e=>displayData(e))},!1),document.getElementById("Submit").addEventListener("click",function(){userID=document.getElementById("UserID").value,APIToken=document.getElementById("APItoken").value,localStorage.setItem("userID",userID),localStorage.setItem("APIToken",APIToken),ChallengeFromCSV.sendData(JSON.parse(sessionStorage.getItem("data")),userID,APIToken)})});